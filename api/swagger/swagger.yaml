swagger: "2.0"
info:
  version: "0.0.1"
  title: Starships Collection
# during dev, should point to your local machine
host: localhost:10010
# basePath prefixes all resource paths 
basePath: /
# 
schemes:
  # tip: remove http to make production-grade
  - http 
  - https
# format of bodies a client can send (Content-Type)
consumes:
  - application/json
# format of the responses to the client (Accepts)
produces:
  - application/json
paths:
  /starship:
    $ref: api/swagger/paths/starship.yaml
  /starships/{id}:
    $ref: api/swagger/paths/starship_id.yaml
  /films:
    x-swagger-router-controller: films
    get:
      operationId: getFilms
      summary: Get all films
      description: get films list
      responses:
        200:
          description: Success
          schema:
            $ref: "#/definitions/GetFilmsListResponse"
        default:
          description: Error
          schema:
            $ref: "#/definitions/ErrorResponse"
    post:
      operationId: saveFilm
      summary: add new film
      description: add a new film to the list
      # movie info to be stored
      parameters:
        - name: model
          description: Starship properties
          in: body
          required: true
          schema:
            $ref: "#/definitions/Film"
      responses:
        "200":
          description: Success
          schema:
            $ref: "#/definitions/GeneralResponse"
        default:
          description: Error
          schema:
            $ref: "#/definitions/ErrorResponse"     
            
  /films/{id}:
    x-swagger-router-controller: films
    # our controller name
    get:
      operationId: getFilm
      description: get a film
      # define the type of response for Success "200" and Error
      parameters:
        - name: id
          type: string
          in: path
          required: true
      responses:
        "200":
          description: Success
          schema:
            $ref: "#/definitions/Film"
        default:
          description: Error
          schema:
            $ref: "#/definitions/ErrorResponse"                      
    put:
      operationId: updateFilm
      description: update a film
      # define the parameters
      parameters:
        - name: id
          description: Film id
          type: string
          in: path
          required: true
        - name: model
          description: Film properties
          in: body
          required: true
          schema:
            $ref: "#/definitions/Film"
      responses:
        "200":
          description: Success
          schema:
            $ref: "#/definitions/GeneralResponse"
        default:
          description: Error
          schema:
            $ref: "#/definitions/ErrorResponse"               
            
  /seeds:
    x-swagger-router-controller: seeds
    get:
      operationId: populate
      summary: populate db
      description: populate all db
      responses:
            "200":
              description: Success
              schema:
                $ref: "#/definitions/GeneralResponse"
            default:
              description: Error
              schema:
                $ref: "#/definitions/ErrorResponse"     
    
  /swagger:
    x-swagger-pipe: swagger_raw
# complex objects have schema definitions
definitions:
 # ---------------------------------------------------------#
 # ---------------------------------------------------------#
 # General Responses
 # ---------------------------------------------------------#
 # ---------------------------------------------------------#       
  ErrorResponse:
    required:
      - message
    properties:
      message:
        type: string
  GeneralResponse:
      type: object
      properties:
        success:
          type: number
          description: returns 1 if successful
        description:
          type: string
          description: a short comment 
      required:
        - success
        - description        
 # ---------------------------------------------------------#
 # ---------------------------------------------------------#
 # models      
 # ---------------------------------------------------------#
 # ---------------------------------------------------------#
  Starship:        
    description: A Starship
    type: object
    title: Starship
    required:
    - name
    - model
    - manufacturer
    - cost_in_credits
    - length
    - max_atmosphering_speed
    - crew
    - passengers
    - cargo_capacity
    - consumables
    - hyperdrive_rating
    - MGLT
    - starship_class
    - url
    properties:        
      hyperdrive_rating:
        type: string
        description: The class of this starships hyperdrive.
      MGLT:
        type: string
        description: The Maximum number of Megalights this starship can travel in a standard
          hour. A Megalight is a standard unit of distance and has never been defined
          before within the Star Wars universe. This figure is only really useful for
          measuring the difference in speed of starships. We can assume it is similar
          to AU, the distance between our Sun (Sol) and Earth.
      model:
        type: string
        description: The model or official name of this starship. Such as T-65 X-wing
          or DS-1 Orbital Battle Station.
      cargo_capacity:
        type: string
        description: The maximum number of kilograms that this starship can transport.
      max_atmosphering_speed:
        type: string
        description: The maximum speed of this starship in atmosphere. n/a if this starship
          is incapable of atmosphering flight.
      crew:
        type: string
        description: The number of personnel needed to run or pilot this starship.
      consumables:
        type: string
        description: The maximum length of time that this starship can provide consumables
          for its entire crew without having to resupply.
      manufacturer:
        type: string
        description: The manufacturer of this starship. Comma seperated if more than one.
      url:
        type: string
        description: The hypermedia URL of this resource.
        format: uri
      passengers:
        type: string
        description: The number of non-essential people this starship can transport.
      length:
        type: string
        description: The length of this starship in meters.
      starship_class:
        type: string
        description: The class of this starship, such as Starfighter or Deep Space Mobile
          Battlestation.
      name:
        type: string
        description: The name of this starship. The common name, such as Death Star.
      cost_in_credits:
        type: string
        description: The cost of this starship new, in galactic credits.
      films:
          type: array
          items: 
            type: integer
      people:
          type: array
          items: 
            type: integer      
 # ---------------------------------------------------------#
 # Film      
 # ---------------------------------------------------------#
  Film:        
    description: A Film
    type: object
    title: Film
    required:
    - title
    - episode_id
    - opening_crawl
    - director
    - producer
    - release_date
    - url
    properties:        
      episode_id:
        type: integer
        description: The episode number of this film.
      director:
        type: string
        description: The director of this film.
      opening_crawl:
        type: string
        description: The opening crawl text at the beginning of this film.
      title:
        type: string
        description: The title of this film.
      release_date:
        type: string
        description: The release date at original creator country.
        format: date-time
      url:
        type: string
        description: The url of this resource
        format: uri
      producer:
        type: string
        description: The producer(s) of this film. 
 # ---------------------------------------------------------#
 # People      
 # ---------------------------------------------------------#
  People:        
    description: A People
    type: object
    title: People
    required:
    - name
    - height
    - mass
    - hair_color
    - skin_color
    - eye_color
    - birth_year
    - gender
    - url
    properties:
        birth_year:
          type: string
          description: The birth year of this person. BBY (Before the Battle of Yavin) or
            ABY (After the Battle of Yavin).
        mass:
          type: string
          description: The mass of this person in kilograms.
        skin_color:
          type: string
          description: The skin color of this person.
        name:
          type: string
          description: The name of this person.
        hair_color:
          type: string
          description: The hair color of this person.
        height:
          type: string
          description: The height of this person in meters.
        eye_color:
          type: string
          description: The eye color of this person.
        gender:
          type: string
          description: The gender of this person (if known).
        url:
          format: uri
          type: string
          description: The url of this resource
 # ---------------------------------------------------------#
 # Vehicle      
 # ---------------------------------------------------------#
  Vehicle:        
    description: A Vehicle
    type: object
    title: Vehicle
    required:
    - name
    - model
    - manufacturer
    - cost_in_credits
    - length
    - max_atmosphering_speed
    - crew
    - passengers
    - cargo_capacity
    - consumables
    - vehicle_class
    - url
    properties:
      cost_in_credits:
        type: string
        description: The cost of this vehicle new, in galactic credits.
      cargo_capacity:
        type: string
        description: The maximum number of kilograms that this vehicle can transport.
      name:
        type: string
        description: The name of this vehicle. The common name, such as Sand Crawler.
      model:
        type: string
        description: The model or official name of this vehicle. Such as All Terrain Attack
          Transport.
      consumables:
        type: string
        description: The maximum length of time that this vehicle can provide consumables
          for its entire crew without having to resupply.
      url:
        format: uri
        type: string
        description: The hypermedia URL of this resource.
      passengers:
        type: string
        description: The number of non-essential people this vehicle can transport.
      manufacturer:
        type: string
        description: The manufacturer of this vehicle. Comma seperated if more than one.
      length:
        type: string
        description: The length of this vehicle in meters.
      max_atmosphering_speed:
        type: string
        description: The maximum speed of this vehicle in atmosphere.
      crew:
        type: string
        description: The number of personnel needed to run or pilot this vehicle.
      vehicle_class:
        type: string
        description: The class of this vehicle, such as Wheeled.  

 # ---------------------------------------------------------#
 # Planet      
 # ---------------------------------------------------------#
  Planet:        
    description: A Plante
    type: object
    title: Planet
    required:
      - name
      - rotation_period
      - orbital_period
      - diameter
      - climate
      - gravity
      - terrain
      - surface_water
      - population
      - url
    properties:
        diameter:
          type: string
          description: The diameter of this planet in kilometers.
        name:
          type: string
          description: The name of this planet.
        orbital_period:
          type: string
          description: The number of standard days it takes for this planet to complete
            a single orbit of its local star.
        url:
          format: uri
          type: string
          description: The hypermedia URL of this resource.
        rotation_period:
          type: string
          description: The number of standard hours it takes for this planet to complete
            a single rotation on its axis.
        population:
          type: string
          description: The average populationof sentient beings inhabiting this planet.
        terrain:
          type: string
          description: the terrain of this planet. Comma-seperated if diverse.
        gravity:
          type: string
          description: A number denoting the gravity of this planet. Where 1 is normal.
        climate:
          type: string
          description: The climate of this planet. Comma-seperated if diverse.
        surface_water:
          type: string
          description: The percentage of the planet surface that is naturally occuring water
            or bodies of water.
            
 # ---------------------------------------------------------#
 # Specie      
 # ---------------------------------------------------------#
  Specie:        
    description: A Specie
    type: object
    title: Specie
    required:
      - name
      - classification
      - designation
      - average_height
      - average_lifespan
      - hair_colors
      - skin_colors
      - eye_colors
      - language
      - url
    properties:
      classification:
        type: string
        description: The classification of this species.
      name:
        type: string
        description: The name of this species.
      url:
        format: uri
        type: string
        description: The hypermedia URL of this resource.
      hair_colors:
        type: string
        description: A comma-seperated string of common hair colors for this species,
          none if this species does not typically have hair.
      eye_colors:
        type: string
        description: A comma-seperated string of common eye colors for this species, none
          if this species does not typically have eyes.
      language:
        type: string
        description: The language commonly spoken by this species.
      designation:
        type: string
        description: The designation of this species.
      average_height:
        type: string
        description: The average height of this person in centimeters.
      average_lifespan:
        type: string
        description: The average lifespan of this species in years.
      skin_colors:
        type: string
        description: A comma-seperated string of common skin colors for this species,
          none if this species does not typically have skin.


 # ---------------------------------------------------------#
 # models responses
 # ---------------------------------------------------------#     
        
  GetStarshipsListResponse:
      required:
        - starships
      properties:
        # The array of sharship
        starships:
          type: array
          items: 
            $ref: '#/definitions/Starship'
  GetPlanetsListResponse:
      required:
        - planets
      properties:
        # The array of sharship
        planets:
          type: array
          items: 
            $ref: '#/definitions/Planet'  
  GetFilmsListResponse:
      required:
        - films
      properties:
        # The array of sharship
        films:
          type: array
          items: 
            $ref: '#/definitions/Film'            
  GetPeopleListResponse:
      required:
        - people
      properties:
        # The array of sharship
        people:
          type: array
          items: 
            $ref: '#/definitions/People'  
  GetVehicleListResponse:
      required:
        - vehicles
      properties:
        # The array of sharship
        vehicles:
          type: array
          items: 
            $ref: '#/definitions/Vehicle'           
  GetSpecieListResponse:
      required:
        - species
      properties:
        # The array of sharship
        species:
          type: array
          items: 
            $ref: '#/definitions/Specie' 